!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("KalixHeader",[],t):"object"==typeof exports?exports.KalixHeader=t():e.KalixHeader=t()}(this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=4)}([function(e,t,a){"use strict";var n=a(2),o=a(3);t.a={name:"KalixHeader",data:function(){return{menuList:[],themeValue:""}},props:{reqUrl:{type:String,default:""},params:{type:Object,default:function(){return{_dc:(new Date).getTime(),page:1,start:0,limit:25}}},logoutUrl:{type:String,default:""}},mounted:function(){console.log("KalixHeader mounted"),this.initMenu()},activated:function(){console.log("KalixHeader activated"),this.initMenu()},methods:{initMenu:function(){var e=this,t={};n.a.get("toolListData")&&(t=JSON.parse(n.a.get("toolListData"))),console.log("KalixSecondPage toolListData",t),a.i(o.a)(t)?this.reqUrl.length?this.$http.get(this.reqUrl,{params:this.params}).then(function(a){a&&a.data&&(console.log("[toolListData] data:",a.data),t=a.data,e.menuList=t,n.a.save("toolListData",JSON.stringify(t)),e._urlTransmit(t))}):console.log(" ===== this.reqUrl is Null! ===== "):(this.menuList=t,this._urlTransmit(t))},_urlTransmit:function(e){console.log("data.length:",e.length),console.log("data[0].id:",e[0].id),e.length&&e[0].id&&this.$router.push({path:"/"+e[0].id+"/"})},bindClass:function(e){return e},setTheme:function(e){e&&(this.themeValue=e)},onFlowCommand:function(e){console.log(" ===== 代办流程 ===== "),this.$router.push({path:"/oa/Task"})},onMsgClick:function(){this.$router.push({path:"/common/receiver"})},doLogout:function(){var e=this;this.$http.get(this.logoutUrl,{}).then(function(t){n.a.clear(),n.a._clearLocal(),e.$router.push({path:"/login"})}).catch(function(t){console.log(" ===== err ===== ",t),n.a.clear(),n.a._clearLocal(),e.$router.push({path:"/login"})})},handleCommand:function(e){switch(e){case"changeInfo":this.$emit("onClickUpdateUserInfo");break;case"changePwd":this.$emit("onClickChangePwd","");break;case"logout":this.doLogout()}}}}},function(e,t,a){"use strict";function n(e){a(9)}var o=a(0),r=a(8),i=a(7),s=n,l=a.i(i.a)(o.a,r.a,r.b,!1,s,"data-v-f690ba84",null);t.a=l.exports},function(e,t,a){"use strict";t.a={save:function(e,t){sessionStorage.setItem(e,t)},get:function(e){return sessionStorage.getItem(e)},clear:function(){sessionStorage.clear()},_saveLocal:function(e,t){localStorage.setItem(e,t)},_getLocal:function(e){return localStorage.getItem(e)},_removeLocal:function(e){localStorage.removeItem(e)},_clearLocal:function(){localStorage.clear()}}},function(e,t,a){"use strict";function n(e){for(var t in e)return!1;return!0}t.a=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o={install:function(e){e.component(n.a.name,n.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),t.default=o},function(e,t,a){t=e.exports=a(6)(!1),t.push([e.i,'.kalix-header[data-v-f690ba84]{position:fixed;top:0;left:0;width:100%;z-index:9;background-color:#fff}.kalix-header .bd[data-v-f690ba84]{height:65px}.kalix-header .bd .logo[data-v-f690ba84]{width:250px;overflow:hidden;transition:width .2s}.kalix-header .bd .logo.small[data-v-f690ba84]{width:65px}.kalix-header .bd .s-check__label[data-v-f690ba84]{display:block;cursor:pointer;line-height:32px;height:32px;padding:0 12px;margin-top:16px;margin-left:20px}.kalix-header .bd .mn .menu-main[data-v-f690ba84]{position:relative;background-color:#fff;border:1px solid #fff;border-top:0;box-sizing:border-box;height:65px;overflow:hidden;flex-flow:column;transition:all .2s}.kalix-header .bd .mn .menu-main .aside-btn[data-v-f690ba84]{position:absolute;bottom:0;left:0;width:100%;text-align:center;font-size:0;line-height:0;height:10px;display:flex}.kalix-header .bd .mn .menu-main .aside-btn .line[data-v-f690ba84]{flex:1;background-color:#d8dce5;height:1px}.kalix-header .bd .mn .menu-main .aside-btn .arrow[data-v-f690ba84]{margin-top:-1px;height:7px;overflow:hidden}.kalix-header .bd .mn .menu-main .aside-btn .arrow .arrow-mn[data-v-f690ba84]{width:9px;height:9px;margin-top:-4px}.kalix-header .bd .mn .menu-main .aside-btn .arrow .arrow-mn[data-v-f690ba84]:after{content:"";display:block;width:9px;height:9px;transform:rotate(45deg);border:1px solid #d8dce5;box-sizing:border-box}.kalix-header .bd .mn .menu-main.open[data-v-f690ba84]{height:min-content;border-color:#352420;border-radius:0 0 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,.5)}.kalix-header .bd .mn .menu-main.open .aside-btn[data-v-f690ba84]{height:6px;background-color:#ebebeb}.kalix-header .bd .mn .menu-main.open .aside-btn .arrow[data-v-f690ba84]{margin-top:-5px;transform:rotate(180deg)}.kalix-header .bd .mn .menu-main.open .aside-btn .arrow .arrow-mn[data-v-f690ba84]:after{background-color:#ebebeb;border-color:#cdd1da}.kalix-header .bd .mn ul[data-v-f690ba84]{text-align:left}.kalix-header .bd .mn ul li[data-v-f690ba84]{display:inline-block;margin:0 10px;cursor:pointer}.kalix-header .bd .mn ul.menu[data-v-f690ba84]{flex:1;box-sizing:border-box;padding-bottom:16px;height:min-content;min-width:150px}.kalix-header .bd .mn ul.menu li[data-v-f690ba84]{margin-top:16px}.kalix-header .bd .mn ul.menu li .link-btn[data-v-f690ba84]{line-height:32px;padding:0 12px;color:#000}.kalix-header .bd .mn ul.menu li .link-btnhover[data-v-f690ba84]{background-color:#efefef}.kalix-header .bd .mn ul.menu li .link-btn.router-link-active[data-v-f690ba84]{color:#000}.kalix-header .bd .mn ul.aside[data-v-f690ba84]{margin-right:20px}.kalix-header .bd .mn ul.aside li[data-v-f690ba84]{margin-top:5px;vertical-align:top}.kalix-header .bd .mn ul.aside li .el-badge[data-v-f690ba84]{margin-top:10px}.kalix-header .bd .mn ul.aside .el-dropdown-link[data-v-f690ba84]{align-items:center;margin-top:12px}.kalix-header .bd .mn ul.aside .el-select[data-v-f690ba84]{margin-top:10px}.kalix-header .bd .mn ul.aside .el-select .el-icon-caret-bottom.el-icon--right[data-v-f690ba84]{color:#5d6266}.kalix-header .avatar-wrapper[data-v-f690ba84]{height:36px;line-height:36px}.kalix-header .avatar-wrapper .avatar[data-v-f690ba84]{float:left;width:36px;height:36px;border-radius:50%;background-color:transparent;margin-right:10px;box-sizing:border-box}.kalix-header .avatar-wrapper .user-name[data-v-f690ba84]{float:left;font-size:16px;margin-right:7px}.kalix-header .avatar[data-v-f690ba84]{background:url("/static/images/default_user.png") 50% 50% no-repeat;background-size:cover;overflow:height}',""])},function(e,t){function a(e,t){var a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var r=n(o);return[a].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([r]).join("\n")}return[a].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=a(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},function(e,t,a){"use strict";function n(e,t,a,n,o,r,i,s){e=e||{};var l=typeof e.default;"object"!==l&&"function"!==l||(e=e.default);var d="function"==typeof e?e.options:e;t&&(d.render=t,d.staticRenderFns=a,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId=r);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(e,t){return c.call(t),u(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:d}}t.a=n},function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"kalix-header"},[a("div",{staticClass:"s-flex bd"},[e._m(0),a("div",{staticClass:"s-flex_item s-flex mn"},[a("div",{staticClass:"s-flex_item"},[a("div",{staticClass:"s-flex menu-main"},[a("ul",{ref:"ulMenu",staticClass:"menu"},e._l(e.menuList,function(t){return a("li",[a("router-link",{staticClass:"link-btn",attrs:{tag:"div",to:{path:"/"+t.id}}},[a("i",{class:e.bindClass(t.iconCls)}),e._v(e._s(t.text))])],1)}))])]),a("ul",{staticClass:"aside"},[a("li",[e.msgCount>0?a("el-badge",{attrs:{value:e.msgCount}},[a("el-button",{attrs:{icon:"el-icon-message"},on:{click:e.onMsgClick}},[e._v("消息")])],1):a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{icon:"el-icon-message"},on:{click:e.onMsgClick}},[e._v("消息")])],1),a("li",[a("el-dropdown",{staticStyle:{"margin-top":"10px"},on:{command:e.onFlowCommand}},[a("el-button",[e._v("待办工作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("待办流程")])],1)],1)],1),a("li",[a("el-dropdown",{staticStyle:{"min-width":"120px"},on:{command:e.handleCommand}},[a("div",{staticClass:"s-flex el-dropdown-link"},[a("div",{staticClass:"avatar-wrapper"},[a("div",{staticClass:"avatar",style:e.styleObject}),a("div",{staticClass:"user-name"},[e._v(e._s(e.userName))])]),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"changeInfo"}},[e._v("修改个人信息")]),a("el-dropdown-item",{attrs:{command:"changePwd"}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出")])],1)],1)],1)])])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:"/static/images/logo_oa_horizontal.png"}})])}]},function(e,t,a){var n=a(5);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a(10).default;o("6d737ad4",n,!0,{})},function(e,t,a){"use strict";function n(e,t,n,r){m=n,b=r||{};var i=a.i(d.a)(e,t);return o(i),function(t){for(var n=[],r=0;r<i.length;r++){var s=i[r],l=u[s.id];l.refs--,n.push(l)}t?(i=a.i(d.a)(e,t),o(i)):i=[];for(var r=0;r<n.length;r++){var l=n[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}}}function o(e){for(var t=0;t<e.length;t++){var a=e[t],n=u[a.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](a.parts[o]);for(;o<a.parts.length;o++)n.parts.push(i(a.parts[o]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{for(var r=[],o=0;o<a.parts.length;o++)r.push(i(a.parts[o]));u[a.id]={id:a.id,refs:1,parts:r}}}}function r(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,a,n=document.querySelector("style["+v+'~="'+e.id+'"]');if(n){if(m)return g;n.parentNode.removeChild(n)}if(x){var o=h++;n=p||(p=r()),t=s.bind(null,n,o,!1),a=s.bind(null,n,o,!0)}else n=r(),t=l.bind(null,n),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else a()}}function s(e,t,a,n){var o=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var r=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function l(e,t){var a=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),b.ssrId&&e.setAttribute(v,t.id),o&&(a+="\n/*# sourceURL="+o.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var d=a(11),c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u={},f=c&&(document.head||document.getElementsByTagName("head")[0]),p=null,h=0,m=!1,g=function(){},b=null,v="data-vue-ssr-id",x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),k=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t,a){"use strict";function n(e,t){for(var a=[],n={},o=0;o<t.length;o++){var r=t[o],i=r[0],s=r[1],l=r[2],d=r[3],c={id:e+":"+o,css:s,media:l,sourceMap:d};n[i]?n[i].parts.push(c):a.push(n[i]={id:i,parts:[c]})}return a}t.a=n}])});
//# sourceMappingURL=index.js.map